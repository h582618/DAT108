package Oppgave2;
import java.util.LinkedList;

public class BurgerQueue  {

	public static int maxBurgers = 5;
	LinkedList<Burger> burgerQueue = new LinkedList<Burger>();
	int burgerNumber = 1;
	
	public synchronized void addBurger(Burger burger, String name) throws InterruptedException {
		if(isFull()){
			System.out.println("###" + name +" vil legge på en hamburger, men rutsjebanen er full. Venter! ###");
			wait();
		}
			burgerNumber += 1;
			burger.setNumber(burgerNumber);
			burgerQueue.add(burger);
			System.out.println(name + " legger på hamburger ("+burger.getNumber()+") => " +  toString());
			if(!isFull()) {
				notify();
			}
			
		}
	public synchronized void takeBurger(String name) throws InterruptedException {
		
		Burger burger = null;
		
		if(isEmpty()) {
			System.out.println("###" + name +" vil ta en hamburger, men rutsjebanen er tom. Venter! ###");
			wait();
		}
		
		burger = burgerQueue.pop();
		System.out.println(name+" tar av hamburger ("+burger.getNumber()+") <= " + toString());
		notify();
		
	}
	public boolean isFull() {
		return burgerQueue.size() == maxBurgers;
	}
	public boolean isEmpty() {
		return burgerQueue.isEmpty();
	}
	public String toString() {
		
		String burgerNumbers = "[";
		for(Burger burger : burgerQueue) {
			burgerNumbers += "(" + burger.getNumber() + ")";
		}
		burgerNumbers += "]";
		return burgerNumbers;
	}
	
}
